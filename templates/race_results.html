{% extends "base.html" %}
{% block content %}
<section class="section-header">
    <h2>{{data.race_name}}</h2>
    <!-- date -->
</section>
<section class="section-detail">
    <table>
        <thead>
            <tr>
                <th>Position</th>
                <th>Driver</th>
                <th>Constructor</th>
                <th>Grid Pos</th>
                <th>Laps</th>
                <th>Fastest Lap</th>
                <!-- <th>Interval</th> -->
                <th>Status</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            {% for d in data.results %}
            <tr>
                <td>{{d.position}}</td>
                <td>{{d.driver.given_name + " " + d.driver.family_name}}</td>
                <td>{{d.constructor.name}}</td>

                {% if d.grid-d.position < 0 %} <td>{{d.grid}}(↓{{(d.grid-d.position)|abs}})</td>
                    {% elif (d.grid-d.position) == 0 %}
                    <td>{{d.grid}}({{d.grid-d.position}})</td>
                    {% else %}
                    <td>{{d.grid}}(↑{{d.grid-d.position}})</td>
                    {% endif %}

                    <td>{{d.laps}}</td>

                    {% if d.fastest_lap.rank == 1 %}
                    <td>
                        <span class="fastest-lap">{{d.fastest_lap.time|laptime_format}}</span>
                    </td>
                    {% else %}
                    <td>{{d.fastest_lap.time|laptime_format}}</td>
                    {% endif %}

                    <!-- <td>{{d.time.time}}</td> -->
                    <td>{{d.status|race_status}}</td>
                    <td>{{d.points|int}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}